<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commute Tracker Portal</title>
<style>


    .dashboard {
        margin-top: 20px;
        display: none;
        clear: both;  /* Ensures elements below the dashboard are properly aligned */
        text-align: center;  /* Centers the content of the dashboard */
    }

    .table-container {
        display: inline-block;   /* Makes the div behave like an inline element */
        width: 45%;              /* Each table container takes up 45% of the available space */
        vertical-align: top;     /* Align the containers to the top */
        margin: 0 2.5%;          /* Adds space between the tables */
    }

    .table-container img {
        max-width: 100%;         /* Ensures the chart fits within the container */
        display: block;
        margin: 20px auto;       /* Centers the chart and adds space between the table and chart */
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    table, th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: center;
    }

    .dashboard-content h3 {
        text-align: center;
    }

    ul {
        list-style-type: none;   /* Removes bullet points */
        padding: 0;              /* Removes padding */
    }

    li {
        margin-bottom: 5px;      /* Adds spacing between list items */
    }
</style>

</head>
<body>
  <h1>Welcome to the Commute Tracker Portal</h1>
  <p>This is an independent project to better understand commutes. Right now, it's just me and you, pal.</p>
  <p>Questions? Suggestions? Email me at <a href="mailto:simonhansedasi@gmail.com">simonhansedasi@gmail.com</a></p>
  <p> <a href ="https://github.com/simonhansedasi/commuting">View on github</a></p>

  <div id="userSection">
      <h3>Enter User Details</h3>
      <p>This is merely a measure to reduce the risk of multiple users overwriting data. Enter your username and pin if you're a returning user, or create a new username to get a pin.</p>

      <!-- For Returning Users -->
      <div id="returningUserSection">
          <label for="returningUsernameInput">Username:</label>
          <input type="text" id="returningUsernameInput" placeholder="Enter username"><br>
          <label for="returningPinInput">Pin:</label>
          <input type="text" id="returningPinInput" placeholder="Enter pin"><br>
          <button id="returningUserSubmit">Login</button>
      </div>

      <hr>

      <!-- For New Users -->
      <p>Email address is purely optional to receive your username and PIN. Recommended, as they are easily forgotten. Emails are not stored anywhere.</p>
      <div id="newUserSection">
          <label for="newUsernameInput">New Username:</label>
          <input type="text" id="newUsernameInput" placeholder="Enter new username"><br>
          <label for="emailInput">Email (optional):</label>
   	  <input type="email" id="emailInput" placeholder="Enter your email"><br>
    <input type="checkbox" id="emailCheckbox">
    <label for="emailCheckbox">Email me my PIN and username</label><br>

          <button id="generatePinButton">Generate Pin</button>
          <p id="newUserPinMessage"></p>
      </div>
  </div>

  <div id="responseMessage"></div>
  <div id="resultContainer"></div>



<div id="responseMessage"></div>
<div id="resultContainer"></div>

  <form id="commuteForm" style="display: none;">
  <h2>Submit Your Commute Data</h2>

    <div>
        <span id="commuteFormUsername"></span>
    </div>
    <div>
        <label for="start_time">Start Time:</label>
        <input type="time" id="start_time" name="start_time" required>
    </div>
    <div>
        <label for="end_time">End Time:</label>
        <input type="time" id="end_time" name="end_time" required>
    </div>
    <div>
        <label for="transport_mode">Main Mode of Transport:</label>
        <select id="transport_mode" name="transport_mode" required onchange="updateTransportOptions()">
            <option value="" disabled selected>Select</option>
            <option value="car">Car</option>
            <option value="bus">Bus</option>
            <option value="train">Train</option>
            <option value="bike">Bike</option>
            <option value="walk">Walk</option>
            <option value="other">Other</option>
        </select>
    </div>

    <!-- Additional options for 'Car' -->
    <div id="freeway_options" style="display:none;">
        <label for="freeway">Route Type:</label>
        <select id="freeway" name="freeway" onchange="updateTransportOptions()">
            <option value="" disabled selected>Select</option>
            <option value="backway">Back Way</option>
            <option value="freeway">Freeway</option>
        </select>
    </div>

    <!-- Additional options for Freeway (if freeway is selected) -->
    <div id="lane_options" style="display:none;">
        <label for="lane">Which Lane?</label>
        <select id="lane" name="lane">
            <option value="" disabled selected>Select</option>
            <option value="left">Left</option>
            <option value="center">Center</option>
            <option value="right">Right</option>
            <option value="multi">Multi-lane</option>
        </select>
    </div>

    <div>
        <label for="raining">Rain?</label>
        <input type="checkbox" id="raining" name="raining">
    </div>
    <div>
        <button type="submit" id="submitButton">Submit Commute</button>
    </div>
  </form>

  <div id="responseMessage"></div>
  <div id="dashboard" class="dashboard">
      <h2>Commute Data Dashboard</h2>
      <div id="dashboardContent"></div>
  </div>

  <!-- <script src="js/users.js"></script> -->
  <script src="js/login.js"></script>
  <!-- <script src="js/check_usernames.js"></script> -->
  <script src="js/commute_form.js" defer></script>
</body>
</html>
